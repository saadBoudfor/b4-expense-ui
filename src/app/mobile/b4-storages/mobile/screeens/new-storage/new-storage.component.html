<div class="storage-details-container background-color-accent">
  <navigation [enableLeft]="true"
              ngColor="white"
              [title]="'Storage'"
              [leftAction]="'/storage/list'"
              [titleIcon]="'local_fire_department'"></navigation>

  <button mat-button mat-raised-button class="logo-container">
    <mat-icon class="logo" inline="inline" color="accent">inventory_2</mat-icon>
  </button>

  <main class="mat-app-background">

    <h4 class="color-accent">Nouveau espace de stockage</h4>

    <mat-form-field appearance="outline" color="accent">
      <mat-label>Nom espace de stockage</mat-label>
      <input type="text" matInput
             autocomplete="false"
             id="name"
             [(ngModel)]="storage.name"
             (ngModelChange)="checkStorage()"
             required
             placeholder="Ex. Cuisine">
    </mat-form-field>


    <p class="error color-warn" *ngIf="isNameAlreadyUsed">{{storage.name}} est déjà utilisé</p>

    <mat-form-field *ngIf="storage.buckets && storage.buckets.length !==0" appearance="outline" color="accent">
      <mat-label>Nom compartiement</mat-label>
      <input type="text" matInput
             autocomplete="false"
             id="bucket_name"
             [(ngModel)]="storage.buckets[0].name"
             (ngModelChange)="checkStorage()"
             required
             placeholder="Ex. bac légumes">
    </mat-form-field>

    <button mat-button mat-raised-button color="accent" (click)="save()" [disabled]="!isStorageValid">Valider</button>

  </main>
</div>

